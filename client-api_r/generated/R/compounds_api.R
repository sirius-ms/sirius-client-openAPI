#' SIRIUS Nightsky API
#'
#' REST API that provides the full functionality of SIRIUS and its web services as background service. It is intended as entry-point for scripting languages and software integration SDKs.This API is exposed by SIRIUS 6
#'
#' The version of the OpenAPI document: 3.0
#' Generated by: https://openapi-generator.tech
#'
#' @docType class
#' @title Compounds operations
#' @description CompoundsApi
#' @format An \code{R6Class} generator object
#' @field api_client Handles the client-server communication.
#'
#' @section Methods:
#' \describe{
#' \strong{ AddCompounds } \emph{ Import Compounds and its contained features. }
#' Import Compounds and its contained features. Compounds and Features must not exist in the project.  Otherwise, they will exist twice.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_import list( \link{CompoundImport} )
#' \item \emph{ @param } profile Enum < [QTOF, ORBITRAP] >
#' \item \emph{ @param } opt_fields Enum < [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations] >
#' \item \emph{ @param } opt_fields_features Enum < [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools] >
#' \item \emph{ @returnType } list( \link{Compound} ) \cr
#'
#'
#' \item status code : 200 | the Compounds that have been imported with specified optional fields
#'
#' \item return type : array[Compound]
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ DeleteCompound } \emph{ Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space. }
#' Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#'
#'
#' \item status code : 200 | OK
#'
#'
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetCompound } \emph{ Get compound (group of ion identities) with the given identifier from the specified project-space. }
#' Get compound (group of ion identities) with the given identifier from the specified project-space.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } opt_fields Enum < [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations] >
#' \item \emph{ @param } opt_fields_features Enum < [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools] >
#' \item \emph{ @returnType } \link{Compound} \cr
#'
#'
#' \item status code : 200 | Compounds with additional optional fields (if specified).
#'
#' \item return type : Compound
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetCompoundTracesExperimental } \emph{ EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable. }
#' Returns the traces of the given compound. A trace consists of m/z and intensity values over the retention  time axis. All the returned traces are 'projected', which means they refer not to the original retention time axis,  but to a recalibrated axis. This means the data points in the trace are not exactly the same as in the raw data.  However, this also means that all traces can be directly compared against each other, as they all lie in the same  retention time axis.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } feature_id character
#' \item \emph{ @returnType } \link{TraceSetExperimental} \cr
#'
#'
#' \item status code : 200 | Traces of the given compound.
#'
#' \item return type : TraceSetExperimental
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetCompounds } \emph{ List of all available compounds (group of ion identities) in the given project-space. }
#' List of all available compounds (group of ion identities) in the given project-space.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } opt_fields Enum < [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations] >
#' \item \emph{ @param } opt_fields_features Enum < [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools] >
#' \item \emph{ @returnType } list( \link{Compound} ) \cr
#'
#'
#' \item status code : 200 | Compounds with additional optional fields (if specified).
#'
#' \item return type : array[Compound]
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetCompoundsPaged } \emph{ Page of available compounds (group of ion identities) in the given project-space. }
#' Page of available compounds (group of ion identities) in the given project-space.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } page integer
#' \item \emph{ @param } size integer
#' \item \emph{ @param } sort list( character )
#' \item \emph{ @param } opt_fields Enum < [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations] >
#' \item \emph{ @param } opt_fields_features Enum < [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools] >
#' \item \emph{ @returnType } \link{PagedModelCompound} \cr
#'
#'
#' \item status code : 200 | Compounds with additional optional fields (if specified).
#'
#' \item return type : PagedModelCompound
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' }
#'
#'
#' @examples
#' \dontrun{
#' ####################  AddCompounds  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to import into.
#' var_compound_import <- c(CompoundImport$new(c(FeatureImport$new(123, 123, "name_example", "externalFeatureId_example", c("detectedAdducts_example"), 123, 123, 123, "NOT_APPLICABLE", BasicSpectrum$new(c(SimplePeak$new(123, 123)), "name_example", 123, "collisionEnergy_example", "instrument_example", 123, 123, 123), c(BasicSpectrum$new(c(SimplePeak$new(..., ...)), "name_example", 123, "collisionEnergy_example", "instrument_example", 123, 123, 123)), c(BasicSpectrum$new(c(SimplePeak$new(..., ...)), "name_example", 123, "collisionEnergy_example", "instrument_example", 123, 123, 123)))), "name_example")) # array[CompoundImport] | the compound data to be imported
#' var_profile <- "profile_example" # character | profile describing the instrument used to measure the data. Used to merge spectra. (Optional)
#' var_opt_fields <- c("none") # array[character] | set of optional fields to be included. Use 'none' to override defaults. (Optional)
#' var_opt_fields_features <- c("none") # array[character] | set of optional fields of the nested features to be included. Use 'none' to override defaults. (Optional)
#'
#' #Import Compounds and its contained features.
#' api_instance <- rsirius_api$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$AddCompounds(var_project_id, var_compound_import, profile = var_profile, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_featuresdata_file = "result.txt")
#' result <- api_instance$compounds_api$AddCompounds(var_project_id, var_compound_import, profile = var_profile, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_features)
#' dput(result)
#'
#'
#' ####################  DeleteCompound  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to delete from.
#' var_compound_id <- "compound_id_example" # character | identifier of the compound to delete.
#'
#' #Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
#' api_instance <- rsirius_api$new()
#'
#' api_instance$compounds_api$DeleteCompound(var_project_id, var_compound_id)
#'
#'
#' ####################  GetCompound  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | identifier of the compound (group of ion identities) to access.
#' var_opt_fields <- c("none") # array[character] | set of optional fields to be included. Use 'none' only to override defaults. (Optional)
#' var_opt_fields_features <- c("none") # array[character] |  (Optional)
#'
#' #Get compound (group of ion identities) with the given identifier from the specified project-space.
#' api_instance <- rsirius_api$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetCompound(var_project_id, var_compound_id, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_featuresdata_file = "result.txt")
#' result <- api_instance$compounds_api$GetCompound(var_project_id, var_compound_id, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_features)
#' dput(result)
#'
#'
#' ####################  GetCompoundTracesExperimental  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound which intensities should be read out
#' var_feature_id <- "" # character |  (Optional)
#'
#' #EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable.
#' api_instance <- rsirius_api$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetCompoundTracesExperimental(var_project_id, var_compound_id, feature_id = var_feature_iddata_file = "result.txt")
#' result <- api_instance$compounds_api$GetCompoundTracesExperimental(var_project_id, var_compound_id, feature_id = var_feature_id)
#' dput(result)
#'
#'
#' ####################  GetCompounds  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_opt_fields <- c("none") # array[character] | set of optional fields to be included. Use 'none' only to override defaults. (Optional)
#' var_opt_fields_features <- c("none") # array[character] |  (Optional)
#'
#' #List of all available compounds (group of ion identities) in the given project-space.
#' api_instance <- rsirius_api$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetCompounds(var_project_id, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_featuresdata_file = "result.txt")
#' result <- api_instance$compounds_api$GetCompounds(var_project_id, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_features)
#' dput(result)
#'
#'
#' ####################  GetCompoundsPaged  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_page <- 0 # integer | Zero-based page index (0..N) (Optional)
#' var_size <- 20 # integer | The size of the page to be returned (Optional)
#' var_sort <- c("inner_example") # array[character] | Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported. (Optional)
#' var_opt_fields <- c("none") # array[character] | set of optional fields to be included. Use 'none' only to override defaults. (Optional)
#' var_opt_fields_features <- c("none") # array[character] |  (Optional)
#'
#' #Page of available compounds (group of ion identities) in the given project-space.
#' api_instance <- rsirius_api$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetCompoundsPaged(var_project_id, page = var_page, size = var_size, sort = var_sort, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_featuresdata_file = "result.txt")
#' result <- api_instance$compounds_api$GetCompoundsPaged(var_project_id, page = var_page, size = var_size, sort = var_sort, opt_fields = var_opt_fields, opt_fields_features = var_opt_fields_features)
#' dput(result)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
CompoundsApi <- R6::R6Class(
  "CompoundsApi",
  public = list(
    api_client = NULL,
    #' Initialize a new CompoundsApi.
    #'
    #' @description
    #' Initialize a new CompoundsApi.
    #'
    #' @param api_client An instance of API client.
    #' @export
    initialize = function(api_client) {
      if (!missing(api_client)) {
        self$api_client <- api_client
      } else {
        self$api_client <- ApiClient$new()
      }
    },
    #' Import Compounds and its contained features.
    #'
    #' @description
    #' Import Compounds and its contained features.
    #'
    #' @param project_id project-space to import into.
    #' @param compound_import the compound data to be imported
    #' @param profile (optional) profile describing the instrument used to measure the data. Used to merge spectra.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' to override defaults. (default value: [])
    #' @param opt_fields_features (optional) set of optional fields of the nested features to be included. Use 'none' to override defaults. (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return array[Compound]
    #' @export
    AddCompounds = function(project_id, compound_import, profile = NULL, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      local_var_response <- self$AddCompoundsWithHttpInfo(project_id, compound_import, profile, opt_fields, opt_fields_features, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Import Compounds and its contained features.
    #'
    #' @description
    #' Import Compounds and its contained features.
    #'
    #' @param project_id project-space to import into.
    #' @param compound_import the compound data to be imported
    #' @param profile (optional) profile describing the instrument used to measure the data. Used to merge spectra.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' to override defaults. (default value: [])
    #' @param opt_fields_features (optional) set of optional fields of the nested features to be included. Use 'none' to override defaults. (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (array[Compound]) with additional information such as HTTP status code, headers
    #' @export
    AddCompoundsWithHttpInfo = function(project_id, compound_import, profile = NULL, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_import`)) {
        stop("Missing required parameter `compound_import`.")
      }






      if (!(`profile` %in% c("QTOF", "ORBITRAP"))) {
        stop("Invalid value for profile when calling CompoundsApi$AddCompounds. Must be [QTOF, ORBITRAP].")
      }
      query_params[["profile"]] <- `profile`

      # explore
      for (query_item in `opt_fields`) {
        # validate enum values
        if (!(query_item %in% c("none", "consensusAnnotations", "consensusAnnotationsDeNovo", "customAnnotations"))) {
          stop("Invalid value for opt_fields when calling CompoundsApi$AddCompounds. Must be [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations].")
        }
        query_params[["optFields"]] <- c(query_params[["optFields"]], list(`optFields` = query_item))
      }

      # explore
      for (query_item in `opt_fields_features`) {
        # validate enum values
        if (!(query_item %in% c("none", "msData", "topAnnotations", "topAnnotationsDeNovo", "computedTools"))) {
          stop("Invalid value for opt_fields_features when calling CompoundsApi$AddCompounds. Must be [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools].")
        }
        query_params[["optFieldsFeatures"]] <- c(query_params[["optFieldsFeatures"]], list(`optFieldsFeatures` = query_item))
      }

      if (!is.null(`compound_import`)) {
        body.items <- paste(unlist(lapply(`compound_import`, function(param) {
                                                             param$toJSONString()
                                                         })), collapse = ",")
        local_var_body <- paste0("[", body.items, "]")
      } else {
        body <- NULL
      }

      local_var_url_path <- "/api/projects/{projectId}/compounds"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list("application/json")

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "POST",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response_as_text(), "array[Compound]", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
    #'
    #' @description
    #' Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
    #'
    #' @param project_id project-space to delete from.
    #' @param compound_id identifier of the compound to delete.
    #' @param ... Other optional arguments
    #' @return void
    #' @export
    DeleteCompound = function(project_id, compound_id, ...) {
      local_var_response <- self$DeleteCompoundWithHttpInfo(project_id, compound_id, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
    #'
    #' @description
    #' Delete compound (group of ion identities) with the given identifier (and the included features) from the  specified project-space.
    #'
    #' @param project_id project-space to delete from.
    #' @param compound_id identifier of the compound to delete.
    #' @param ... Other optional arguments
    #' @return API response (void) with additional information such as HTTP status code, headers
    #' @export
    DeleteCompoundWithHttpInfo = function(project_id, compound_id, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }



      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list()

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "DELETE",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        local_var_resp$content <- NULL
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Get compound (group of ion identities) with the given identifier from the specified project-space.
    #'
    #' @description
    #' Get compound (group of ion identities) with the given identifier from the specified project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id identifier of the compound (group of ion identities) to access.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return Compound
    #' @export
    GetCompound = function(project_id, compound_id, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      local_var_response <- self$GetCompoundWithHttpInfo(project_id, compound_id, opt_fields, opt_fields_features, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Get compound (group of ion identities) with the given identifier from the specified project-space.
    #'
    #' @description
    #' Get compound (group of ion identities) with the given identifier from the specified project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id identifier of the compound (group of ion identities) to access.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (Compound) with additional information such as HTTP status code, headers
    #' @export
    GetCompoundWithHttpInfo = function(project_id, compound_id, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }





      # explore
      for (query_item in `opt_fields`) {
        # validate enum values
        if (!(query_item %in% c("none", "consensusAnnotations", "consensusAnnotationsDeNovo", "customAnnotations"))) {
          stop("Invalid value for opt_fields when calling CompoundsApi$GetCompound. Must be [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations].")
        }
        query_params[["optFields"]] <- c(query_params[["optFields"]], list(`optFields` = query_item))
      }

      # explore
      for (query_item in `opt_fields_features`) {
        # validate enum values
        if (!(query_item %in% c("none", "msData", "topAnnotations", "topAnnotationsDeNovo", "computedTools"))) {
          stop("Invalid value for opt_fields_features when calling CompoundsApi$GetCompound. Must be [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools].")
        }
        query_params[["optFieldsFeatures"]] <- c(query_params[["optFieldsFeatures"]], list(`optFieldsFeatures` = query_item))
      }

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response_as_text(), "Compound", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable.
    #'
    #' @description
    #' EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound which intensities should be read out
    #' @param feature_id (optional) No description (default value: "")
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return TraceSetExperimental
    #' @export
    GetCompoundTracesExperimental = function(project_id, compound_id, feature_id = "", data_file = NULL, ...) {
      local_var_response <- self$GetCompoundTracesExperimentalWithHttpInfo(project_id, compound_id, feature_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable.
    #'
    #' @description
    #' EXPERIMENTAL: This endpoint is experimental and may be changed (or even removed) without notice until it is declared stable.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound which intensities should be read out
    #' @param feature_id (optional) No description (default value: "")
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (TraceSetExperimental) with additional information such as HTTP status code, headers
    #' @export
    GetCompoundTracesExperimentalWithHttpInfo = function(project_id, compound_id, feature_id = "", data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }




      query_params[["featureId"]] <- `feature_id`

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/traces"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response_as_text(), "TraceSetExperimental", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' List of all available compounds (group of ion identities) in the given project-space.
    #'
    #' @description
    #' List of all available compounds (group of ion identities) in the given project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return array[Compound]
    #' @export
    GetCompounds = function(project_id, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      local_var_response <- self$GetCompoundsWithHttpInfo(project_id, opt_fields, opt_fields_features, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' List of all available compounds (group of ion identities) in the given project-space.
    #'
    #' @description
    #' List of all available compounds (group of ion identities) in the given project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (array[Compound]) with additional information such as HTTP status code, headers
    #' @export
    GetCompoundsWithHttpInfo = function(project_id, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }




      # explore
      for (query_item in `opt_fields`) {
        # validate enum values
        if (!(query_item %in% c("none", "consensusAnnotations", "consensusAnnotationsDeNovo", "customAnnotations"))) {
          stop("Invalid value for opt_fields when calling CompoundsApi$GetCompounds. Must be [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations].")
        }
        query_params[["optFields"]] <- c(query_params[["optFields"]], list(`optFields` = query_item))
      }

      # explore
      for (query_item in `opt_fields_features`) {
        # validate enum values
        if (!(query_item %in% c("none", "msData", "topAnnotations", "topAnnotationsDeNovo", "computedTools"))) {
          stop("Invalid value for opt_fields_features when calling CompoundsApi$GetCompounds. Must be [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools].")
        }
        query_params[["optFieldsFeatures"]] <- c(query_params[["optFieldsFeatures"]], list(`optFieldsFeatures` = query_item))
      }

      local_var_url_path <- "/api/projects/{projectId}/compounds"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response_as_text(), "array[Compound]", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Page of available compounds (group of ion identities) in the given project-space.
    #'
    #' @description
    #' Page of available compounds (group of ion identities) in the given project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param page (optional) Zero-based page index (0..N) (default value: 0)
    #' @param size (optional) The size of the page to be returned (default value: 20)
    #' @param sort (optional) Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return PagedModelCompound
    #' @export
    GetCompoundsPaged = function(project_id, page = 0, size = 20, sort = NULL, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      local_var_response <- self$GetCompoundsPagedWithHttpInfo(project_id, page, size, sort, opt_fields, opt_fields_features, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Page of available compounds (group of ion identities) in the given project-space.
    #'
    #' @description
    #' Page of available compounds (group of ion identities) in the given project-space.
    #'
    #' @param project_id project-space to read from.
    #' @param page (optional) Zero-based page index (0..N) (default value: 0)
    #' @param size (optional) The size of the page to be returned (default value: 20)
    #' @param sort (optional) Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.
    #' @param opt_fields (optional) set of optional fields to be included. Use 'none' only to override defaults. (default value: [])
    #' @param opt_fields_features (optional) No description (default value: [])
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (PagedModelCompound) with additional information such as HTTP status code, headers
    #' @export
    GetCompoundsPagedWithHttpInfo = function(project_id, page = 0, size = 20, sort = NULL, opt_fields = list(), opt_fields_features = list(), data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }


      if (`page` < 0) {
        stop("Invalid value for `page` when calling CompoundsApi$GetCompoundsPaged, must be bigger than or equal to 0.")
      }

      if (`size` < 1) {
        stop("Invalid value for `size` when calling CompoundsApi$GetCompoundsPaged, must be bigger than or equal to 1.")
      }




      query_params[["page"]] <- `page`

      query_params[["size"]] <- `size`

      # explore
      for (query_item in `sort`) {
        query_params[["sort"]] <- c(query_params[["sort"]], list(`sort` = query_item))
      }

      # explore
      for (query_item in `opt_fields`) {
        # validate enum values
        if (!(query_item %in% c("none", "consensusAnnotations", "consensusAnnotationsDeNovo", "customAnnotations"))) {
          stop("Invalid value for opt_fields when calling CompoundsApi$GetCompoundsPaged. Must be [none, consensusAnnotations, consensusAnnotationsDeNovo, customAnnotations].")
        }
        query_params[["optFields"]] <- c(query_params[["optFields"]], list(`optFields` = query_item))
      }

      # explore
      for (query_item in `opt_fields_features`) {
        # validate enum values
        if (!(query_item %in% c("none", "msData", "topAnnotations", "topAnnotationsDeNovo", "computedTools"))) {
          stop("Invalid value for opt_fields_features when calling CompoundsApi$GetCompoundsPaged. Must be [none, msData, topAnnotations, topAnnotationsDeNovo, computedTools].")
        }
        query_params[["optFieldsFeatures"]] <- c(query_params[["optFieldsFeatures"]], list(`optFieldsFeatures` = query_item))
      }

      local_var_url_path <- "/api/projects/{projectId}/compounds/page"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response_as_text(), "PagedModelCompound", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    }
  )
)
