#' SIRIUS Nightsky API
#'
#' REST API that provides the full functionality of SIRIUS and its web services as background service. It is intended as entry-point for scripting languages and software integration SDKs.
#'
#' The version of the OpenAPI document: v0.9 on SIRIUS 5.6.3-SNAPSHOT
#' Generated by: https://openapi-generator.tech
#'
#' @docType class
#' @title FormulaResults operations
#' @description FormulaResultsApi
#' @format An \code{R6Class} generator object
#' @field api_client Handles the client-server communication.
#'
#' @section Methods:
#' \describe{
#' \strong{ GetBestMatchingCanopusPredictions } \emph{ Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology, }
#' Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @returnType } \link{CompoundClasses} \cr
#'
#'
#' \item status code : 200 | Best matching Predicted compound classes
#'
#' \item return type : CompoundClasses
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetCanopusPredictions } \emph{ All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities, }
#' All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @returnType } \link{CanopusPredictions} \cr
#'
#'
#' \item status code : 200 | Predicted compound classes
#'
#' \item return type : CanopusPredictions
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetFingerprintPrediction } \emph{ Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes. }
#' Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#'
#'
#' \item status code : 200 | probabilistic fingerprint predicted by CSI:FingerID
#'
#' \item return type : array[numeric]
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetFormulaIds } \emph{ List of all FormulaResultContainers available for this compound/feature with minimal information. }
#' List of all FormulaResultContainers available for this compound/feature with minimal information.  Can be enriched with an optional results overview.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } result_overview character
#' \item \emph{ @param } formula_candidate character
#' \item \emph{ @returnType } list( \link{FormulaResultContainer} ) \cr
#'
#'
#' \item status code : 200 | All FormulaResultContainers of this compound/feature with.
#'
#' \item return type : array[FormulaResultContainer]
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetFormulaResult } \emph{ FormulaResultContainers for the given &#39;formulaId&#39; with minimal information. }
#' FormulaResultContainers for the given 'formulaId' with minimal information.  Can be enriched with an optional results overview and formula candidate information.
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @param } result_overview character
#' \item \emph{ @param } formula_candidate character
#' \item \emph{ @returnType } \link{FormulaResultContainer} \cr
#'
#'
#' \item status code : 200 | FormulaResultContainers of this compound/feature with.
#'
#' \item return type : FormulaResultContainer
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetFragTree } \emph{ Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore). }
#' Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @returnType } \link{FragmentationTree} \cr
#'
#'
#' \item status code : 200 | Fragmentation Tree
#'
#' \item return type : FragmentationTree
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetSimulatedIsotopePattern } \emph{ Returns simulated isotope pattern (SIRIUS) for the given formula result identifier. }
#' Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.  This simulated isotope pattern is used to rank formula candidates (treeScore).
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @returnType } \link{AnnotatedSpectrum} \cr
#'
#'
#' \item status code : 200 | Simulated isotope pattern
#'
#' \item return type : AnnotatedSpectrum
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetStructureCandidates } \emph{ List of StructureCandidates the given &#39;formulaId&#39; with minimal information. }
#' List of StructureCandidates the given 'formulaId' with minimal information.  StructureCandidates can be enriched with molecular fingerprint, structure database links and pubmed ids,
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } formula_id character
#' \item \emph{ @param } fingerprint character
#' \item \emph{ @param } db_links character
#' \item \emph{ @param } pub_med_ids character
#' \item \emph{ @param } top_k integer
#' \item \emph{ @returnType } list( \link{StructureCandidate} ) \cr
#'
#'
#' \item status code : 200 | FormulaResultContainers of this compound/feature with specified extensions.
#'
#' \item return type : array[StructureCandidate]
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ GetTopStructureCandidate } \emph{ Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId). }
#' Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
#'
#' \itemize{
#' \item \emph{ @param } project_id character
#' \item \emph{ @param } compound_id character
#' \item \emph{ @param } fingerprint character
#' \item \emph{ @param } db_links character
#' \item \emph{ @param } pub_med_ids character
#' \item \emph{ @returnType } \link{StructureCandidate} \cr
#'
#'
#' \item status code : 200 | Best scoring FormulaResultContainers of this compound/feature with specified extensions.
#'
#' \item return type : StructureCandidate
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' }
#'
#'
#' @examples
#' \dontrun{
#' ####################  GetBestMatchingCanopusPredictions  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#'
#' #Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetBestMatchingCanopusPredictions(var_project_id, var_compound_id, var_formula_iddata_file = "result.txt")
#' result <- api_instance$GetBestMatchingCanopusPredictions(var_project_id, var_compound_id, var_formula_id)
#' dput(result)
#'
#'
#' ####################  GetCanopusPredictions  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#'
#' #All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetCanopusPredictions(var_project_id, var_compound_id, var_formula_iddata_file = "result.txt")
#' result <- api_instance$GetCanopusPredictions(var_project_id, var_compound_id, var_formula_id)
#' dput(result)
#'
#'
#' ####################  GetFingerprintPrediction  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#'
#' #Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetFingerprintPrediction(var_project_id, var_compound_id, var_formula_iddata_file = "result.txt")
#' result <- api_instance$GetFingerprintPrediction(var_project_id, var_compound_id, var_formula_id)
#' dput(result)
#'
#'
#' ####################  GetFormulaIds  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_result_overview <- TRUE # character | add ResultOverview to the FormulaResultContainers (Optional)
#' var_formula_candidate <- FALSE # character | add extended formula candidate information to the FormulaResultContainers (Optional)
#'
#' #List of all FormulaResultContainers available for this compound/feature with minimal information.
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetFormulaIds(var_project_id, var_compound_id, result_overview = var_result_overview, formula_candidate = var_formula_candidatedata_file = "result.txt")
#' result <- api_instance$GetFormulaIds(var_project_id, var_compound_id, result_overview = var_result_overview, formula_candidate = var_formula_candidate)
#' dput(result)
#'
#'
#' ####################  GetFormulaResult  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#' var_result_overview <- TRUE # character | add ResultOverview to the FormulaResultContainer (Optional)
#' var_formula_candidate <- TRUE # character | add extended formula candidate information to the FormulaResultContainer (Optional)
#'
#' #FormulaResultContainers for the given 'formulaId' with minimal information.
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetFormulaResult(var_project_id, var_compound_id, var_formula_id, result_overview = var_result_overview, formula_candidate = var_formula_candidatedata_file = "result.txt")
#' result <- api_instance$GetFormulaResult(var_project_id, var_compound_id, var_formula_id, result_overview = var_result_overview, formula_candidate = var_formula_candidate)
#' dput(result)
#'
#'
#' ####################  GetFragTree  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#'
#' #Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetFragTree(var_project_id, var_compound_id, var_formula_iddata_file = "result.txt")
#' result <- api_instance$GetFragTree(var_project_id, var_compound_id, var_formula_id)
#' dput(result)
#'
#'
#' ####################  GetSimulatedIsotopePattern  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#'
#' #Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetSimulatedIsotopePattern(var_project_id, var_compound_id, var_formula_iddata_file = "result.txt")
#' result <- api_instance$GetSimulatedIsotopePattern(var_project_id, var_compound_id, var_formula_id)
#' dput(result)
#'
#'
#' ####################  GetStructureCandidates  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_formula_id <- "formula_id_example" # character | identifier of the requested formula result
#' var_fingerprint <- FALSE # character | add molecular fingerprint to StructureCandidates (Optional)
#' var_db_links <- FALSE # character | add dbLinks to StructureCandidates (Optional)
#' var_pub_med_ids <- FALSE # character | add PubMedIds (citation count) to StructureCandidates (Optional)
#' var_top_k <- -1 # integer | retrieve only the top k StructureCandidates (Optional)
#'
#' #List of StructureCandidates the given 'formulaId' with minimal information.
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetStructureCandidates(var_project_id, var_compound_id, var_formula_id, fingerprint = var_fingerprint, db_links = var_db_links, pub_med_ids = var_pub_med_ids, top_k = var_top_kdata_file = "result.txt")
#' result <- api_instance$GetStructureCandidates(var_project_id, var_compound_id, var_formula_id, fingerprint = var_fingerprint, db_links = var_db_links, pub_med_ids = var_pub_med_ids, top_k = var_top_k)
#' dput(result)
#'
#'
#' ####################  GetTopStructureCandidate  ####################
#'
#' library(Rsirius)
#' var_project_id <- "project_id_example" # character | project-space to read from.
#' var_compound_id <- "compound_id_example" # character | compound/feature the formula result belongs to.
#' var_fingerprint <- FALSE # character | add molecular fingerprint to StructureCandidates (Optional)
#' var_db_links <- FALSE # character | add dbLinks to StructureCandidates (Optional)
#' var_pub_med_ids <- FALSE # character | add PubMedIds (citation count) to StructureCandidates (Optional)
#'
#' #Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
#' api_instance <- FormulaResultsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$GetTopStructureCandidate(var_project_id, var_compound_id, fingerprint = var_fingerprint, db_links = var_db_links, pub_med_ids = var_pub_med_idsdata_file = "result.txt")
#' result <- api_instance$GetTopStructureCandidate(var_project_id, var_compound_id, fingerprint = var_fingerprint, db_links = var_db_links, pub_med_ids = var_pub_med_ids)
#' dput(result)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
FormulaResultsApi <- R6::R6Class(
  "FormulaResultsApi",
  public = list(
    api_client = NULL,
    #' Initialize a new FormulaResultsApi.
    #'
    #' @description
    #' Initialize a new FormulaResultsApi.
    #'
    #' @param api_client An instance of API client.
    #' @export
    initialize = function(api_client) {
      if (!missing(api_client)) {
        self$api_client <- api_client
      } else {
        self$api_client <- ApiClient$new()
      }
    },
    #' Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
    #'
    #' @description
    #' Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return CompoundClasses
    #' @export
    GetBestMatchingCanopusPredictions = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      local_var_response <- self$GetBestMatchingCanopusPredictionsWithHttpInfo(project_id, compound_id, formula_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
    #'
    #' @description
    #' Best matching compound classes,  Set of the highest scoring compound classes CANOPUS) on each hierarchy level of  the ClassyFire and NPC ontology,
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (CompoundClasses) with additional information such as HTTP status code, headers
    #' @export
    GetBestMatchingCanopusPredictionsWithHttpInfo = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }




      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/best-canopus-predictions"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "CompoundClasses", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
    #'
    #' @description
    #' All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return CanopusPredictions
    #' @export
    GetCanopusPredictions = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      local_var_response <- self$GetCanopusPredictionsWithHttpInfo(project_id, compound_id, formula_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
    #'
    #' @description
    #' All predicted compound classes (CANOPUS) from ClassyFire and NPC and their probabilities,
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (CanopusPredictions) with additional information such as HTTP status code, headers
    #' @export
    GetCanopusPredictionsWithHttpInfo = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }




      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/canopus-predictions"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "CanopusPredictions", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
    #'
    #' @description
    #' Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return array[numeric]
    #' @export
    GetFingerprintPrediction = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      local_var_response <- self$GetFingerprintPredictionWithHttpInfo(project_id, compound_id, formula_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
    #'
    #' @description
    #' Returns predicted fingerprint (CSI:FingerID) for the given formula result identifier  This fingerprint is used to perfom structure database search and predict compound classes.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (array[numeric]) with additional information such as HTTP status code, headers
    #' @export
    GetFingerprintPredictionWithHttpInfo = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }




      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/fingerprint"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "array[numeric]", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' List of all FormulaResultContainers available for this compound/feature with minimal information.
    #'
    #' @description
    #' List of all FormulaResultContainers available for this compound/feature with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param result_overview (optional) add ResultOverview to the FormulaResultContainers (default value: TRUE)
    #' @param formula_candidate (optional) add extended formula candidate information to the FormulaResultContainers (default value: FALSE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return array[FormulaResultContainer]
    #' @export
    GetFormulaIds = function(project_id, compound_id, result_overview = TRUE, formula_candidate = FALSE, data_file = NULL, ...) {
      local_var_response <- self$GetFormulaIdsWithHttpInfo(project_id, compound_id, result_overview, formula_candidate, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' List of all FormulaResultContainers available for this compound/feature with minimal information.
    #'
    #' @description
    #' List of all FormulaResultContainers available for this compound/feature with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param result_overview (optional) add ResultOverview to the FormulaResultContainers (default value: TRUE)
    #' @param formula_candidate (optional) add extended formula candidate information to the FormulaResultContainers (default value: FALSE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (array[FormulaResultContainer]) with additional information such as HTTP status code, headers
    #' @export
    GetFormulaIdsWithHttpInfo = function(project_id, compound_id, result_overview = TRUE, formula_candidate = FALSE, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }





      query_params[["resultOverview"]] <- `result_overview`

      query_params[["formulaCandidate"]] <- `formula_candidate`

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "array[FormulaResultContainer]", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' FormulaResultContainers for the given 'formulaId' with minimal information.
    #'
    #' @description
    #' FormulaResultContainers for the given 'formulaId' with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param result_overview (optional) add ResultOverview to the FormulaResultContainer (default value: TRUE)
    #' @param formula_candidate (optional) add extended formula candidate information to the FormulaResultContainer (default value: TRUE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return FormulaResultContainer
    #' @export
    GetFormulaResult = function(project_id, compound_id, formula_id, result_overview = TRUE, formula_candidate = TRUE, data_file = NULL, ...) {
      local_var_response <- self$GetFormulaResultWithHttpInfo(project_id, compound_id, formula_id, result_overview, formula_candidate, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' FormulaResultContainers for the given 'formulaId' with minimal information.
    #'
    #' @description
    #' FormulaResultContainers for the given 'formulaId' with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param result_overview (optional) add ResultOverview to the FormulaResultContainer (default value: TRUE)
    #' @param formula_candidate (optional) add extended formula candidate information to the FormulaResultContainer (default value: TRUE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (FormulaResultContainer) with additional information such as HTTP status code, headers
    #' @export
    GetFormulaResultWithHttpInfo = function(project_id, compound_id, formula_id, result_overview = TRUE, formula_candidate = TRUE, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }






      query_params[["resultOverview"]] <- `result_overview`

      query_params[["formulaCandidate"]] <- `formula_candidate`

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "FormulaResultContainer", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
    #'
    #' @description
    #' Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return FragmentationTree
    #' @export
    GetFragTree = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      local_var_response <- self$GetFragTreeWithHttpInfo(project_id, compound_id, formula_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
    #'
    #' @description
    #' Returns fragmentation tree (SIRIUS) for the given formula result identifier  This tree is used to rank formula candidates (treeScore).
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (FragmentationTree) with additional information such as HTTP status code, headers
    #' @export
    GetFragTreeWithHttpInfo = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }




      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/tree"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "FragmentationTree", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.
    #'
    #' @description
    #' Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return AnnotatedSpectrum
    #' @export
    GetSimulatedIsotopePattern = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      local_var_response <- self$GetSimulatedIsotopePatternWithHttpInfo(project_id, compound_id, formula_id, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.
    #'
    #' @description
    #' Returns simulated isotope pattern (SIRIUS) for the given formula result identifier.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (AnnotatedSpectrum) with additional information such as HTTP status code, headers
    #' @export
    GetSimulatedIsotopePatternWithHttpInfo = function(project_id, compound_id, formula_id, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }




      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/isotope-pattern"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "AnnotatedSpectrum", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' List of StructureCandidates the given 'formulaId' with minimal information.
    #'
    #' @description
    #' List of StructureCandidates the given 'formulaId' with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param fingerprint (optional) add molecular fingerprint to StructureCandidates (default value: FALSE)
    #' @param db_links (optional) add dbLinks to StructureCandidates (default value: FALSE)
    #' @param pub_med_ids (optional) add PubMedIds (citation count) to StructureCandidates (default value: FALSE)
    #' @param top_k (optional) retrieve only the top k StructureCandidates (default value: -1)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return array[StructureCandidate]
    #' @export
    GetStructureCandidates = function(project_id, compound_id, formula_id, fingerprint = FALSE, db_links = FALSE, pub_med_ids = FALSE, top_k = -1, data_file = NULL, ...) {
      local_var_response <- self$GetStructureCandidatesWithHttpInfo(project_id, compound_id, formula_id, fingerprint, db_links, pub_med_ids, top_k, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' List of StructureCandidates the given 'formulaId' with minimal information.
    #'
    #' @description
    #' List of StructureCandidates the given 'formulaId' with minimal information.
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param formula_id identifier of the requested formula result
    #' @param fingerprint (optional) add molecular fingerprint to StructureCandidates (default value: FALSE)
    #' @param db_links (optional) add dbLinks to StructureCandidates (default value: FALSE)
    #' @param pub_med_ids (optional) add PubMedIds (citation count) to StructureCandidates (default value: FALSE)
    #' @param top_k (optional) retrieve only the top k StructureCandidates (default value: -1)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (array[StructureCandidate]) with additional information such as HTTP status code, headers
    #' @export
    GetStructureCandidatesWithHttpInfo = function(project_id, compound_id, formula_id, fingerprint = FALSE, db_links = FALSE, pub_med_ids = FALSE, top_k = -1, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }

      if (missing(`formula_id`)) {
        stop("Missing required parameter `formula_id`.")
      }








      query_params[["fingerprint"]] <- `fingerprint`

      query_params[["dbLinks"]] <- `db_links`

      query_params[["pubMedIds"]] <- `pub_med_ids`

      query_params[["topK"]] <- `top_k`

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/formulas/{formulaId}/structures"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`formula_id`)) {
        local_var_url_path <- gsub("\\{formulaId\\}", URLencode(as.character(`formula_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "array[StructureCandidate]", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
    #'
    #' @description
    #' Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param fingerprint (optional) add molecular fingerprint to StructureCandidates (default value: FALSE)
    #' @param db_links (optional) add dbLinks to StructureCandidates (default value: FALSE)
    #' @param pub_med_ids (optional) add PubMedIds (citation count) to StructureCandidates (default value: FALSE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return StructureCandidate
    #' @export
    GetTopStructureCandidate = function(project_id, compound_id, fingerprint = FALSE, db_links = FALSE, pub_med_ids = FALSE, data_file = NULL, ...) {
      local_var_response <- self$GetTopStructureCandidateWithHttpInfo(project_id, compound_id, fingerprint, db_links, pub_med_ids, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
    #'
    #' @description
    #' Best Scoring StructureCandidate over all molecular formular resutls that belong to the specified  compound/feature (compoundId).
    #'
    #' @param project_id project-space to read from.
    #' @param compound_id compound/feature the formula result belongs to.
    #' @param fingerprint (optional) add molecular fingerprint to StructureCandidates (default value: FALSE)
    #' @param db_links (optional) add dbLinks to StructureCandidates (default value: FALSE)
    #' @param pub_med_ids (optional) add PubMedIds (citation count) to StructureCandidates (default value: FALSE)
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (StructureCandidate) with additional information such as HTTP status code, headers
    #' @export
    GetTopStructureCandidateWithHttpInfo = function(project_id, compound_id, fingerprint = FALSE, db_links = FALSE, pub_med_ids = FALSE, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`project_id`)) {
        stop("Missing required parameter `project_id`.")
      }

      if (missing(`compound_id`)) {
        stop("Missing required parameter `compound_id`.")
      }






      query_params[["fingerprint"]] <- `fingerprint`

      query_params[["dbLinks"]] <- `db_links`

      query_params[["pubMedIds"]] <- `pub_med_ids`

      local_var_url_path <- "/api/projects/{projectId}/compounds/{compoundId}/top-structure"
      if (!missing(`project_id`)) {
        local_var_url_path <- gsub("\\{projectId\\}", URLencode(as.character(`project_id`), reserved = TRUE), local_var_url_path)
      }

      if (!missing(`compound_id`)) {
        local_var_url_path <- gsub("\\{compoundId\\}", URLencode(as.character(`compound_id`), reserved = TRUE), local_var_url_path)
      }


      # The Accept request HTTP header
      local_var_accepts <- list("application/json")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "StructureCandidate", loadNamespace("Rsirius")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    }
  )
)
